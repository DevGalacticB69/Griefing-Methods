# UUID Spoofing

UUID spoofing was first discovered in early 2013, and is now a well-known Bungeecord vulnerability - mainly abused to grief servers. This exploit is one of the most used methods to gain administrator privileges on vulnerable Minecraft networks.

**Overview**

UUID stands for "Unique User IDentifier" which is the ID used to identify a player. In the real world, we have the same identification system to identify individuals called SSN (Social Security Number).

To understand how UUID spoofing works, we need to take a look at how Bungeecord works.

A Bungeecord network consists of a proxy server and sub servers. The sub servers has to be in offline mode in order to make the Bungeecord system work. The proxy is the only server that is in online mode by default to make sure players can't login using cracked accounts (accounts that doesn't exist or has an invalid session).

Offline mode means no Mojang session authentication on login, which means you can log into the server using any username you want (sometimes even usernames with characters like $, #, ? etc.).

Online mode means there's an authentication process on login, to make sure players are using valid sessions (accounts they logged into).

**Analysis**

As mentioned, all sub servers are in offline mode, which means Mojang doesn't check your username and session ID when logging on to the server, and because of this, you can log into the server using any user's UUID you want by modifying the handshake packet sent when logging into the server.

Normal login handshake packet:
```
+---------+-----------------+--------------+-----------+-------------+
| pkt. id | server protocol | dst. address | dst. port | login state |
+---------+-----------------+--------------+-----------+-------------+
 ```

Modified login handshake packet:
```
+---------+-----------------+----------------+-----------+-------------+
| pkt. id | server protocol | dst. address   | dst. port | login state |
+---------+-----------------+----------------+-----------+-------------+
                            | src. address   |
                            +----------------+
                            | spoofed UUIDv4 |
                            +----------------+
 ```

The src. address field can be spoofed to any IP-address you want (yes even '0.0.0.0' and '127.0.0.1'). This can be used to make you roughly untraceable.

In the spoofed UUIDv4 field you put in the UUID of an operator on the server.
> Read more about the handshake packet at: https://wiki.vg/Protocol#Handshake

All player data are bound to players UUID which means you'll have the same permissions, rank, inventory items etc. as the operator (including OP).

**Exploiting**

Some modified hacked clients has a UUID spoof feature built in.

Here's a list of some of the clients which has a UUID spoof feature:
- SkillClient
- xClient
- CheatMine
- Dymeth Client
- PoisonHQ

In this guide, I'll show you how to do it using SkillClient.

**Prevention**

One of the ways to protect your server from UUID spoofing, is by hosting all sub servers locally. This means that only the Bungeecord server can access those servers, and noone outside the network.

**Note**
UUID spoofing is not a bug in the server software or protocol. The way Spigot handles the login handshake packets is intended.
> Read about how to discover the subserver ports at: [Port Scanning](https://github.com/WodxTV/Griefing-Methods/blob/master/Discovering/Port%20Scanning.md)